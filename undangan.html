<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Undangan Alghifari & Yusfina</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- <link rel="stylesheet" href="src/output.css" /> -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link rel="stylesheet" href="screen2.html" />
  <link rel="icon" href="favicon.ico" type="image/x-icon">



  <!-- Guest Message Handling -->



  <script>
    // Safely get elements and check if they exist before using
    const guestFormCarousel = document.getElementById('guestForm');
    const messageCarousel = document.getElementById('messageCarousel');
    const submitMessage = document.getElementById('submitMessage');

    // Load existing messages from localStorage
    let currentMessageIndex = 0;
    let messages = [];

    const loadMessages = () => {
      messages = JSON.parse(localStorage.getItem('guestMessages')) || [];
      showCurrentMessage();
    };

    // Show only one message at a time
    const showCurrentMessage = () => {
      if (!messageCarousel) return;
      messageCarousel.innerHTML = '';
      if (messages.length > 0) {
        const data = messages[currentMessageIndex];
        const msgItem = document.createElement('div');
        msgItem.className = 'inline-block';
        msgItem.style.whiteSpace = 'pre-line';
        msgItem.textContent = `"${data.message}" — ${data.name} from ${data.address}`;
        messageCarousel.appendChild(msgItem);
      }
    };

    // Scroll buttons (show previous/next message)
    const scrollLeftBtn = document.getElementById('scrollLeft');
    const scrollRightBtn = document.getElementById('scrollRight');
    if (scrollLeftBtn) {
      scrollLeftBtn.addEventListener('click', () => {
        if (messages.length === 0) return;
        currentMessageIndex = (currentMessageIndex - 1 + messages.length) % messages.length;
        showCurrentMessage();
      });
    }
    if (scrollRightBtn) {
      scrollRightBtn.addEventListener('click', () => {
        if (messages.length === 0) return;
        currentMessageIndex = (currentMessageIndex + 1) % messages.length;
        showCurrentMessage();
      });
    }

    // Initial load
    loadMessages();
    // Show submit message
    window.addEventListener('load', () => {
      const loading = document.getElementById('loadingScreen');
      const mainContent = document.getElementById('mainContent');

      setTimeout(() => {
        if (loading) {
          loading.classList.remove('opacity-100');
          loading.classList.add('opacity-0');
        }

        setTimeout(() => {
          if (loading) loading.style.display = 'none';
          if (mainContent) {
            mainContent.classList.remove('hidden');
            mainContent.classList.add('show'); // trigger fade-in
          }
        }, 300); // waktu sama dengan transition loadingScreen
      }, 1000); // delay tampil loading screen
    });

    // Handle form submission

  </script>

  <style>
    .parallax-bg {
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }

    #messageCarousel::-webkit-scrollbar {
      display: none;
    }

    body {
      font-family: 'Quicksand', sans-serif;
    }

    .font-script {
      font-family: 'Great Vibes', cursive;
    }

    @keyframes bounceY {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-20px);
      }
    }

    .animate-bounce-y {
      animation: bounceY 1s infinite;
    }

    @keyframes fadeUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-up {
      animation: fadeUp 1s ease-out forwards;
    }

    /* Fade-in animation for loading/main content */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .fade-in.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
  <style>
    .font-cursive {
      font-family: 'Dancing Script', cursive;
    }
  </style>
  <script>

    // Initial load of messages

    // Loading screen transition
    window.addEventListener('load', () => {
      const loading = document.getElementById('loadingScreen');
      const mainContent = document.getElementById('mainContent');

      setTimeout(() => {
        if (loading) {
          loading.classList.remove('opacity-100');
          loading.classList.add('opacity-0');
        }

        setTimeout(() => {
          if (loading) loading.style.display = 'none';
          if (mainContent) {
            mainContent.classList.remove('hidden');
            mainContent.classList.add('show');
          }
        }, 300);
      }, 1000);
    });
  </script>


</head>

<body class="bg-white text-gray-800 font-serif relative overflow-x-hidden selection-div">


  <!-- Header Section -->
  <div class="relative h-screen bg-cover bg-center bg-no-repeat">
    <img src="img/2.jpeg" alt="Wedding Background" class="absolute inset-0 w-full h-full object-cover">
    <div class="absolute inset-0 bg-black bg-opacity-50 z-0">

      <!-- Navbar -->
      <nav class="absolute top-0 left-0 w-full flex justify-between items-center p-6 z-10">
        <div class="text-white font-bold text-lg tracking-wide">
          <!-- <img src="#" alt="Logo" class="h-16 w-28 object-contain md:h-19 md:w-34"> -->
        </div>
        <ul class="flex space-x-6 text-white uppercase text-sm font-medium">
          <li><a href="#" class="hover:text-pink-400"></a></li>
          <li><a href="#pengantin" class="hover:text-pink-400"></a></li>
          <li><a href="#acara" class="hover:text-pink-400"></a></li>
          <li><a href="#pesan" class="hover:text-pink-400"></a></li>
          <li>
            <a href="#map" class="hover:text-pink-400 font-cursive lowercase text-lg md:text-xl">design by
              @Alhanief.creative</a>
          </li>
        </ul>
      </nav>
    </div>


    <!-- Hero Content -->
    <div id="mainContent"
      class="relative z-10 h-full flex flex-col items-center justify-center text-center text-white px-4 fade-in">
      <h1 class="text-3xl md:text-5xl font-light mb-4 font-cursive animate-fade-up" style="animation-delay: 0.2s;">
        Alghifari & Yusfina
      </h1>
      <p class="text-xs md:text-sm mb-6 tracking-wide animate-fade-up" style="animation-delay: 0.5s;">
        Minggu 22 Juni 2025 • Pulosari, Sroyo, Jaten, Karanganyar
      </p>
      <a href="https://maps.app.goo.gl/TDXC2TYmeqkca7aq9"
        class="bg-pink-500 hover:bg-pink-600 text-white font-medium py-2 px-4 md:px-6 rounded transition text-sm md:text-base animate-fade-up"
        style="animation-delay: 0.8s;">
        Lihat Maps
      </a>
    </div>

    <!-- Wave Transition Bottom -->
    <div class="absolute bottom-0 w-full overflow-hidden leading-[0] rotate-180">
      <svg class="relative block w-[calc(100%+1.3px)] h-[100px]" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M0,0 C600,100 600,0 1200,100 L1200,0 L0,0 Z" fill="#fff"></path>
      </svg>
    </div>
  </div>

  <!-- LOADING SCREEN -->
  <div id="loadingScreen"
    class="fixed inset-0 flex items-center justify-center bg-white z-50 transition-opacity duration-900 opacity-100 document.body.classList.remove('loading');">
    <img src="img/1.png"
      alt="Pink hand-drawn heart bouncing playfully with small accent marks above it, set against a plain background. The scene feels cheerful and lighthearted."
      class="w-11 h-19 animate-bounce-y" style="animation-delay: 0.2s;" />
    <img src="img/1.png"
      alt="Larger pink hand-drawn heart bouncing with joyful motion, surrounded by accent marks, on a simple background. The mood is uplifting and whimsical."
      class="w-16 h-24 animate-bounce-y" style="animation-delay: 0.4s;" />
    <img src="img/1.png"
      alt="Pink hand-drawn heart gently bouncing with playful accent marks above, set on a plain background. The feeling is warm and happy."
      class="w-11 h-19 animate-bounce-y" style="animation-delay: 0.6s;" />

  </div>




  <!-- Background Leaves (Optional) -->
  <img src="img/1.png" alt="Leaf Top Left" class="absolute top-0 left-0 w-16 opacity-70 pointer-events-none" />
  <!-- <img src="img/1.png" alt="Leaf Top Right" class="absolute top-0 right-0 w-16 opacity-70 pointer-events-none" /> -->
  <img src="img/1.png" alt="Leaf Bottom Left" class="absolute bottom-0 left-0 w-16 opacity-70 pointer-events-none" />
  <img src="img/1.png" alt="Leaf Bottom Right" class="absolute bottom-0 right-0 w-16 opacity-70 pointer-events-none" />

  <!-- Bride & Groom -->
  <section class="py-10 px-2 sm:py-14 md:py-16 lg:py-20 w-full max-w-7xl mx-auto">
    <div class="kotak-kiri max-w-6xl mx-auto px-4 grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-2 items-center">
      <!-- Bride (Left) -->
      <div class="bg-white shadow-lg p-6 rounded-md text-center flex flex-col items-center order-1 fade-in"
        data-aos="fade-right" data-aos-delay="100">
        <div
          class="w-25 h-25 rounded-full overflow-hidden mx-auto mb-6  border-4 border-pink-200 flex items-center justify-center">
          <img src="img/Algy.png" alt="Bride" class="object-cover w-full h-full">
        </div>
        <h2 class="text-2xl font-semibold mb-2">Abu Dzar Al Ghifari</h2>
        <p class="text-sm text-gray-600 mb-4">KP gombela rt02 rw05 Tinjomoyo, Banyumanik, Semarang</p>
        <div class="flex justify-center space-x-4 text-gray-500 text-lg">
          <a href="#">🌐</a>
          <a href="#">📘</a>
          <a href="#">📷</a>
        </div>
      </div>
      <!-- Love Icon Center -->
      <div class="icon-tengah flex-col items-center justify-center order-3 md:order-2 hidden md:flex fade-in"
        data-aos="zoom-in" data-aos-delay="500">
        <div class="text-center">
          <img src="img/1.png" alt="Wedding Couple" class="mx-auto rounded-md">
        </div>
      </div>
      <!-- Groom (Right) -->
      <div
        class="kotak-kanan bg-white shadow-lg p-6 rounded-md text-center flex flex-col items-center order-2 md:order-3 fade-in"
        data-aos="fade-left" data-aos-delay="200">
        <div
          class="w-25 h-25 rounded-full overflow-hidden mx-auto mb-4 border-4 border-pink-200 flex items-center justify-center">
          <img src="img/Yusfina.png" alt="Groom" class="object-cover w-full h-full">
        </div>
        <h2 class="text-2xl font-semibold mb-2">Yusfina Wiyrwa Saru</h2>
        <p class="text-sm text-gray-600 mb-4">Jl Amarta Raya rt02 Rw02 Pulosari, Sroyo, jaten, Karanganyar </p>
        <div class="flex justify-center space-x-4 text-gray-500 text-lg">
          <a href="#">🌐</a>
          <a href="#">📘</a>
          <a href="#">📷</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Parallax Background -->




  <!-- Countdown Section - Fixed for all devices -->
<section class="relative h-[400px] overflow-hidden">
  <!-- Background image with optimized positioning -->
  <div class="absolute top-0 left-0 w-full h-full z-0 bg-cover bg-center bg-no-repeat bg-fixed" 
       style="background-image: url('img/bg2.JPG'); 
              -webkit-background-size: cover;
              -moz-background-size: cover;
              -o-background-size: cover;">
  </div>

  <!-- Overlay + Content -->
  <div class="relative z-10 h-full flex items-center justify-center bg-black bg-opacity-50">
    <div class="text-center text-white px-4">
      <h3 class="text-2xl font-semibold mb-2">SAVE THE DATE</h3>
      <p class="text-lg mb-6">22 JUNI 2025</p>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 text-lg font-semibold">
        <div>
          <span id="countdown-days" class="block text-3xl md:text-4xl">359</span>
          <span>Days</span>
        </div>
        <div>
          <span id="countdown-hours" class="block text-3xl md:text-4xl">23</span>
          <span>Hours</span>
        </div>
        <div>
          <span id="countdown-minutes" class="block text-3xl md:text-4xl">59</span>
          <span>Minutes</span>
        </div>
        <div>
          <span id="countdown-seconds" class="block text-3xl md:text-4xl">48</span>
          <span>Seconds</span>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* iOS-specific fixes */
  @supports (-webkit-touch-callout: none) {
    .bg-fixed {
      background-attachment: scroll !important;
      position: absolute;
    }
    .relative.h-\[400px\] {
      overflow: hidden;
    }
  }
</style>
<script>
    // Set the target date and time (22 June 2025, 09:00 WIB/GMT+7 for Indonesia)
    const targetDate = new Date('2025-06-22T09:00:00+07:00');

    function updateCountdown() {
      const now = new Date();
      let diff = targetDate - now;

      if (diff < 0) diff = 0;

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      // Update countdown elements directly by ID
      document.getElementById('countdown-days').textContent = days;
      document.getElementById('countdown-hours').textContent = hours;
      document.getElementById('countdown-minutes').textContent = minutes;
      document.getElementById('countdown-seconds').textContent = seconds;
    }

    // Initialize countdown immediately
    updateCountdown();

    // Then update every second
    setInterval(updateCountdown, 1000);

    // iOS detection and fix for background
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) ||
      (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);

    if (isIOS) {
      document.querySelector('.relative.h-[400px] .absolute.bg-cover').style.position = 'absolute';
      document.querySelector('.relative.h-[400px]').style.overflow = 'hidden';
      document.querySelector('.relative.h-[400px]').style.height = '400px';
    }
  </script>

  <!-- Organization Timeline -->
  <!-- Full Background Video Section -->
  <div class="relative w-full aspect-[7/9] min-h-[600px] overflow-hidden">
    <video autoplay loop muted playsinline class="absolute inset-0 w-full h-full object-cover z-0">
      <source src="vid/undangan6.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <div class="relative z-10 flex flex-col items-center justify-center h-full w-full text-white text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-2 drop-shadow-lg"></h2>
      <p class="text-lg md:text-xl drop-shadow"></p>
    </div>
  </div>
  </div>

  <!-- Love Story Section -->
  <!-- Link ke AOS -->

  <section class="bg-white mb-40 mt-1">
    <div class="max-w-2xl mx-auto text-center px-4">
      <h2 class="text-3xl font-semibold text-[#c98884] mb-2 my-1" data-aos="fade-down">SESI ACARA PERNIKAHAN</h2>
      <p class="text-gray-500 mb-10" data-aos="fade-down" data-aos-delay="100">
        Rangkaian acara:
      </p>

      <!-- Top Heart Image -->
      <div class="mb-6" data-aos="zoom-in" data-aos-delay="200">
        <svg class="mx-auto block" width="128" height="128" viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern id="heartImage" patternUnits="userSpaceOnUse" width="32" height="29.6">
              <image href="img/love.JPG" x="0" y="0" width="32" height="29.6" preserveAspectRatio="xMidYMid slice" />
            </pattern>
          </defs>
          <path d="M23.6,0c-3.4,0-6.4,2.1-7.6,5.1C14.8,2.1,11.8,0,8.4,0
             C3.8,0,0,3.8,0,8.4c0,4.4,3.4,8.1,8.5,13c2.2,2.1,4.4,4,6.3,5.5
             c1.9-1.5,4.1-3.4,6.3-5.5C28.6,16.5,32,12.8,32,8.4C32,3.8,28.2,0,23.6,0z" fill="url(#heartImage)" />
        </svg>
      </div>

      <!-- Timeline -->
      <div class="relative border-l-2 border-pink-300 mx-auto w-fit pl-6">
        <!-- Item 1 -->
        <div class="mb-10 relative text-left" data-aos="fade-up" data-aos-delay="300">
          <div class="absolute -left-[22px] top-1 w-6 h-6 bg-white text-pink-500">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-full h-full" viewBox="0 0 24 24">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5
                2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81
                4.5 2.09C13.09 3.81 14.76 3
                16.5 3 19.58 3 22 5.42 22
                8.5c0 3.78-3.4 6.86-8.55
                11.54L12 21.35z" />
            </svg>
          </div>
          <h4 class="text-lg font-semibold text-gray-700">Akad Nikah</h4>
          <p class="text-sm text-pink-400">09:00</p>
        </div>

        <!-- Item 2 -->
        <div class="mb-10 relative text-left" data-aos="fade-up" data-aos-delay="400">
          <div class="absolute -left-[22px] top-1 w-6 h-6 bg-white text-pink-500">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-full h-full" viewBox="0 0 24 24">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5
                2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81
                4.5 2.09C13.09 3.81 14.76 3
                16.5 3 19.58 3 22 5.42 22
                8.5c0 3.78-3.4 6.86-8.55
                11.54L12 21.35z" />
            </svg>
          </div>
          <h4 class="text-lg font-semibold text-gray-700">Resepsi</h4>
          <p class="text-sm text-pink-400">09:30 - Selesai</p>
        </div>
      </div>

      <!-- Bottom Heart Image -->
      <div class="mt-6" data-aos="zoom-in" data-aos-delay="200">
        <svg class="mx-auto block" width="128" height="128" viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern id="heartImage" patternUnits="userSpaceOnUse" width="32" height="29.6">
              <image href="img/2.jpeg" img href="img/2.jpeg" x="0" y="0" width="32" height="29.6"
                preserveAspectRatio="xMidYMid slice" />
            </pattern>
          </defs>
          <path d="M23.6,0c-3.4,0-6.4,2.1-7.6,5.1C14.8,2.1,11.8,0,8.4,0
             C3.8,0,0,3.8,0,8.4c0,4.4,3.4,8.1,8.5,13c2.2,2.1,4.4,4,6.3,5.5
             c1.9-1.5,4.1-3.4,6.3-5.5C28.6,16.5,32,12.8,32,8.4C32,3.8,28.2,0,23.6,0z" fill="url(#heartImage)" />
        </svg>
      </div>

      <p class="mt-4 text-gray-600 text-sm" data-aos="fade-up" data-aos-delay="600">
        Akhir yang bahagia, kami akan menikah...<br />
        <span class="italic">Dalam hitungan hari...</span>
      </p>
    </div>
  </section>


  <script>
    AOS.init({
      once: true,
      duration: 800
    });
  </script>
  <!-- Floating Play/Pause Button for YouTube Audio -->
  <style>
    #yt-play-pause {
      position: fixed;
      top: 50%;
      right: 32px;
      transform: translateY(-50%);
      z-index: 9999;
      background: #000000;
      color: #ffffff;
      border: none;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      font-size: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    }

    #yt-play-pause:hover {
      background: #ffe9a7;
    }

    @media (max-width: 640px) {
      #yt-play-pause {
        right: 16px;
        width: 44px;
        height: 44px;
        font-size: 1.5rem;
      }
    }
  </style>
  <button id="yt-play-pause" title="Play/Pause Music" aria-label="Play/Pause Music" style="display:none;">⏸</button>
  <div id="yt-audio-iframe" style="display:none"></div>
  <script>
    // Use YouTube IFrame API for background audio
    let ytPlayer;
    let isPlaying = true;
    const btn = document.getElementById('yt-play-pause');

    // Show button after loading screen hides
    window.addEventListener('load', () => {
      setTimeout(() => {
        btn.style.display = 'flex';
      }, 1300); // after loadingScreen transition
    });

    // Load YouTube IFrame API
    function loadYTAPI() {
      if (window.YT && window.YT.Player) return onYouTubeIframeAPIReady();
      const tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      document.body.appendChild(tag);
    }

    // Create hidden player
    window.onYouTubeIframeAPIReady = function () {
      ytPlayer = new YT.Player('yt-audio-iframe', {
        height: '0',
        width: '0',
        videoId: 'ivrumxRUz_Y',
        playerVars: {
          autoplay: 1,
          controls: 0,
          loop: 1,
          playlist: 'ivrumxRUz_Y'
        },
        events: {
          'onReady': function (event) {
            event.target.playVideo();
            btn.textContent = '⏸';
            isPlaying = true;
          }
        }
      });
    };

    loadYTAPI();

    btn.addEventListener('click', function () {
      if (!ytPlayer) return;
      if (isPlaying) {
        ytPlayer.pauseVideo();
        btn.textContent = '▶';
        isPlaying = false;
      } else {
        ytPlayer.playVideo();
        btn.textContent = '⏸';
        isPlaying = true;
      }
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Inisialisasi semua elemen
      const form = document.getElementById("guestForm");
      const messageList = document.getElementById("messageList");
      const messageCarousel = document.getElementById('messageCarousel');
      const scrollLeftBtn = document.getElementById('scrollLeft');
      const scrollRightBtn = document.getElementById('scrollRight');
      const loading = document.getElementById('loadingScreen');
      const mainContent = document.getElementById('mainContent');

      // Fungsi untuk menampilkan pesan dari Google Sheets
      function fetchMessages() {
        fetch(scriptURL)
          .then(res => res.json())
          .then(data => {
            if (messageList) {
              messageList.innerHTML = "";
              data.forEach(item => {
                const { name, address, message, timestamp } = item;
                const div = document.createElement("div");
                div.className = "bg-[#222] text-white p-4 rounded shadow text-sm border border-[#333]";
                div.innerHTML = `
                <p class="font-bold">${name}</p>
                <p class="text-gray-400 text-xs">${address}</p>
                <p class="mt-2 italic">"${message}"</p>
                <p class="text-gray-500 text-xs mt-2">${new Date(timestamp).toLocaleString()}</p>
              `;
                messageList.appendChild(div);
              });
            }
          })
          .catch(err => {
            console.error("Fetch error:", err);
            if (messageList) {
              messageList.innerHTML = `<p class="text-red-500">Gagal memuat pesan.</p>`;
            }
          });
      }

      // Fungsi untuk carousel pesan dari localStorage
      function setupMessageCarousel() {
        if (!messageCarousel) return;

        let currentMessageIndex = 0;
        let messages = JSON.parse(localStorage.getItem('guestMessages')) || [];

        const showCurrentMessage = () => {
          messageCarousel.innerHTML = '';
          if (messages.length > 0) {
            const data = messages[currentMessageIndex];
            const msgItem = document.createElement('div');
            msgItem.className = 'inline-block';
            msgItem.style.whiteSpace = 'pre-line';
            msgItem.textContent = `"${data.message}" — ${data.name} from ${data.address}`;
            messageCarousel.appendChild(msgItem);
          }
        };

        if (scrollLeftBtn) {
          scrollLeftBtn.addEventListener('click', () => {
            if (messages.length === 0) return;
            currentMessageIndex = (currentMessageIndex - 1 + messages.length) % messages.length;
            showCurrentMessage();
          });
        }

        if (scrollRightBtn) {
          scrollRightBtn.addEventListener('click', () => {
            if (messages.length === 0) return;
            currentMessageIndex = (currentMessageIndex + 1) % messages.length;
            showCurrentMessage();
          });
        }

        showCurrentMessage();
      }

      // Handle form submission
      if (form) {
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          const name = form.name.value.trim();
          const address = form.address.value.trim();
          const message = form.message.value.trim();

          if (!name || !address || !message) {
            alert("Harap isi semua kolom!");
            return;
          }

          const submitBtn = form.querySelector('button[type="submit"]');
          if (submitBtn) {
            submitBtn.textContent = "Mengirim...";
            submitBtn.disabled = true;
          }

          const formData = new FormData();
          formData.append("name", name);
          formData.append("address", address);
          formData.append("message", message);

          fetch(scriptURL, {
            method: "POST",
            body: formData
          })
            .then(() => {
              form.reset();
              fetchMessages();
            })
            .catch(error => {
              console.error("Gagal kirim:", error);
              alert("Gagal kirim pesan.");
            })
            .finally(() => {
              if (submitBtn) {
                submitBtn.textContent = "Kirim";
                submitBtn.disabled = false;
              }
            });
        });
      }

      // Loading screen transition
      if (loading && mainContent) {
        setTimeout(() => {
          loading.classList.remove('opacity-100');
          loading.classList.add('opacity-0');

          setTimeout(() => {
            loading.style.display = 'none';
            mainContent.classList.remove('hidden');
            mainContent.classList.add('show');
          }, 300);
        }, 1000);
      }

      // Inisialisasi
      fetchMessages();
      setupMessageCarousel();
    });
  </script>


</body>

<body class="bg-white text-gray-800 font-serif relative overflow-x-hidden selection-div">
  <!-- Your existing body content -->
  <!-- ... -->

  <!-- Footer Section -->
  <footer class="bg-[#1a1a1a] text-white pt-32 pb-12 relative">
    <!-- Floating Form Box -->
    <div
      class="absolute left-1/2 transform -translate-x-1/2 -top-20 bg-[#111] px-6 py-8 w-[90%] max-w-xl shadow-lg text-center rounded-t-3xl rounded-b-xl z-20">
      <p class="text-sm text-gray-300 mb-3">وَمِنْ اٰيٰتِهٖٓ اَنْ خَلَقَ لَكُمْ مِّنْ اَنْفُسِكُمْ اَزْوَاجًا
        لِّتَسْكُنُوْٓا اِلَيْهَا وَجَعَلَ بَيْنَكُمْ مَّوَدَّةً وَّرَحْمَةًۗ</p>

      <!-- Guest Form -->
      <h4 class="text-lg font-bold font-cursive text-[#f3d47c] mb-1">Ucapan & Do'a</h4>
      <form id="guestForm" class="space-y-3">
        <input type="text" id="name" name="name" placeholder="Nama" required
          class="w-full p-3 rounded-lg bg-[#222] text-white placeholder-gray-400 border border-[#333] focus:border-[#f3d47c] focus:ring-1 focus:ring-[#f3d47c] transition">
        <input type="text" id="address" name="address" placeholder="Alamat" required
          class="w-full p-3 rounded-lg bg-[#222] text-white placeholder-gray-400 border border-[#333] focus:border-[#f3d47c] focus:ring-1 focus:ring-[#f3d47c] transition">
        <textarea id="message" name="message" placeholder="Tulis pesan & doa" required rows="3"
          class="w-full p-3 rounded-lg bg-[#222] text-white placeholder-gray-400 border border-[#333] focus:border-[#f3d47c] focus:ring-1 focus:ring-[#f3d47c] transition"></textarea>
        <button type="submit"
          class="bg-[#f3d47c] hover:bg-[#e6c76e] text-black font-medium py-2 px-4 rounded-lg transition w-full flex items-center justify-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z"
              clip-rule="evenodd" />
          </svg>
          Kirim Pesan
        </button>
      </form>
    </div>

    <!-- Main Footer Content -->
    <div class="container mx-auto px-4 pt-40">
      <!-- Message Carousel -->
      <div class="message-carousel-container mb-12 mt-90">
        <h3 class="text-xl font-cursive text-[#f3d47c] mb-6 text-center">Ucapan Tamu</h3>

        <div class="message-container relative flex items-center">
          <button id="scrollLeft" class="carousel-nav left-0 hidden md:block">‹</button>

          <div id="messageList" class="message-carousel flex-1">
            <!-- Pesan akan dimuat di sini secara dinamis -->
          </div>

          <button id="scrollRight" class="carousel-nav right-0 hidden md:block">›</button>
        </div>

        <!-- <div class="mobile-nav flex justify-center gap-4 mt-4 md:hidden">
          <button id="scrollLeftMobile" class="carousel-nav-mobile">‹</button>
          <button id="scrollRightMobile" class="carousel-nav-mobile">›</button>
        </div>
      </div> -->

        <!-- Footer Columns -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
          <!-- Column 1 -->
          <div class="text-center md:text-left">
            <h4 class="text-lg font-cursive text-[#f3d47c] mb-3">Jasa Pembuatan Website</h4>
            <ul class="space-y-2">
              <li><a href="#" class="text-gray-300 hover:text-[#f3d47c] transition">Undangan Digital</a></li>
              <li><a href="#" class="text-gray-300 hover:text-[#f3d47c] transition">Website Bisnis</a></li>
              <li><a href="#" class="text-gray-300 hover:text-[#f3d47c] transition">Toko Online</a></li>
            </ul>
          </div>

          <!-- Column 3 -->
          <div class="text-center md:text-right md:absolute md:right-4 md:botton md:w-auto">
            <h4 class="text-lg font-cursive text-[#f3d47c] md:mr-4">Kontak Kami</h4>
            <ul class="space-y-2">
              <li class="text-gray-300 md:text-right">Instagram: @alhanief.creative</li>
              <li class="text-gray-300 md:text-right">WhatsApp: +62 851-3458-0660</li>
              <li class="md:text-right">
                <a href="mailto:alhanief27@gmail.com" class="text-[#f3d47c] hover:underline">Email Kami</a>
              </li>
            </ul>
          </div>

          <!-- Social Media & Copyright -->
          <div class="mt-12 pt-6 border-t border-[#333]">
            <div class="flex justify-center space-x-6 mb-6">
              <a href="#" class="text-gray-400 hover:text-[#f3d47c] transition">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill-rule="evenodd"
                    d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                    clip-rule="evenodd"></path>
                </svg>
              </a>
              <a href="#" class="text-gray-400 hover:text-[#f3d47c] transition">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill-rule="evenodd"
                    d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"
                    clip-rule="evenodd"></path>
                </svg>
              </a>
              <a href="#" class="text-gray-400 hover:text-[#f3d47c] transition">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84">
                  </path>
                </svg>
              </a>
            </div>

            <div class="text-center text-xs text-gray-500">
              © 2025 Design by <a href="https://instagram.com/alhanief.creative" target="_blank"
                class="text-[#f3d47c] hover:underline">alhanief.creative</a>. All rights reserved.
            </div>
          </div>
  </footer>

  <!-- JavaScript for Message Carousel -->
  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbwX9qu2fY7LQXg0brHcRTmsPa6s2lVSphkjFzGjSJ0WhDw7OdnvIPgLYvkZYRjfgxhX/exec";

    document.addEventListener("DOMContentLoaded", function () {
      // Inisialisasi elemen carousel
      const messageList = document.getElementById('messageList');
      const scrollLeftBtn = document.getElementById('scrollLeft');
      const scrollRightBtn = document.getElementById('scrollRight');
      const scrollLeftMobile = document.getElementById('scrollLeftMobile');
      const scrollRightMobile = document.getElementById('scrollRightMobile');
      const guestForm = document.getElementById('guestForm');

      // Jika messageList tidak ditemukan, hentikan eksekusi
      if (!messageList) {
        console.warn("messageList element not found");
        return;
      }

      // Variabel untuk kontrol auto-scroll
      let autoScrollInterval;
      let isScrolling = false;
      let currentMessageIndex = 0;
      let messages = [];

      // Fungsi untuk update state tombol
      function updateButtonStates() {
        const isFirst = currentMessageIndex === 0;
        const isLast = currentMessageIndex === messages.length - 1 || messages.length === 0;

        if (scrollLeftBtn) scrollLeftBtn.disabled = isFirst;
        if (scrollRightBtn) scrollRightBtn.disabled = isLast;
        if (scrollLeftMobile) scrollLeftMobile.disabled = isFirst;
        if (scrollRightMobile) scrollRightMobile.disabled = isLast;
      }

      // Fungsi untuk memulai auto-scroll
      function startAutoScroll() {
        stopAutoScroll();
        if (messages.length <= 1) return;

        autoScrollInterval = setInterval(() => {
          if (isScrolling) return;

          currentMessageIndex = (currentMessageIndex + 1) % messages.length;
          showCurrentMessage();
          updateButtonStates();
        }, 5000); // Setiap 5 detik
      }

      // Fungsi untuk menghentikan auto-scroll
      function stopAutoScroll() {
        if (autoScrollInterval) {
          clearInterval(autoScrollInterval);
        }
      }

      // Fungsi untuk menampilkan pesan saat ini
      function showCurrentMessage() {
        if (!messages.length) {
          messageList.innerHTML = '<div class="message-item">Belum ada pesan</div>';
          return;
        }

        const msg = messages[currentMessageIndex];
        const msgItem = document.createElement('div');
        msgItem.className = 'message-item';
        msgItem.textContent = `"${msg.message}" — ${msg.name}${msg.address ? ` from ${msg.address}` : ''}`;

        messageList.innerHTML = '';
        messageList.appendChild(msgItem);
      }

      // Fungsi untuk scroll ke pesan sebelumnya
      function scrollToPrevious() {
        if (currentMessageIndex > 0) {
          currentMessageIndex--;
          showCurrentMessage();
          updateButtonStates();
        }
        stopAutoScroll();
        setTimeout(startAutoScroll, 10000);
      }

      // Fungsi untuk scroll ke pesan berikutnya
      function scrollToNext() {
        if (currentMessageIndex < messages.length - 1) {
          currentMessageIndex++;
          showCurrentMessage();
          updateButtonStates();
        }
        stopAutoScroll();
        setTimeout(startAutoScroll, 10000);
      }

      // Load pesan dari Google Sheets
      function loadMessagesFromGoogleSheets() {
        fetch(scriptURL)
          .then(res => res.json())
          .then(data => {
            messages = data;
            showCurrentMessage();
            updateButtonStates();

            // Jika ada pesan, mulai auto-scroll
            if (messages.length > 1) {
              startAutoScroll();
            }
          })
          .catch(err => {
            console.error("Error loading messages:", err);
            // Fallback to localStorage if Google Sheets fails
            messages = JSON.parse(localStorage.getItem('guestMessages')) || [];
            showCurrentMessage();
            updateButtonStates();
          });
      }

      // Handle form submission
      if (guestForm) {
        guestForm.addEventListener('submit', function (e) {
          e.preventDefault();

          const name = guestForm.name.value.trim();
          const address = guestForm.address.value.trim();
          const message = guestForm.message.value.trim();
          const submitBtn = guestForm.querySelector('button[type="submit"]');

          if (!name || !address || !message) {
            alert("Harap isi semua kolom!");
            return;
          }

          if (submitBtn) {
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="animate-pulse">Mengirim...</span>';
          }

          const formData = new FormData();
          formData.append('name', name);
          formData.append('address', address);
          formData.append('message', message);

          // Send to Google Sheets
          fetch(scriptURL, {
            method: 'POST',
            body: formData
          })
            .then(response => {
              if (!response.ok) throw new Error('Network response was not ok');
              return response.json();
            })
            .then(data => {
              // Also save to localStorage as fallback
              const newMessage = { name, address, message };
              const existingMessages = JSON.parse(localStorage.getItem('guestMessages')) || [];
              existingMessages.push(newMessage);
              localStorage.setItem('guestMessages', JSON.stringify(existingMessages));

              // Reload messages
              loadMessagesFromGoogleSheets();
              guestForm.reset();
            })
            .catch(error => {
              console.error('Error:', error);
              alert('Gagal mengirim pesan. Silakan coba lagi.');
            })
            .finally(() => {
              if (submitBtn) {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Kirim Pesan';
              }
            });
        });
      }

      // Event listeners untuk tombol navigasi
      if (scrollLeftBtn) scrollLeftBtn.addEventListener('click', scrollToPrevious);
      if (scrollRightBtn) scrollRightBtn.addEventListener('click', scrollToNext);
      if (scrollLeftMobile) scrollLeftMobile.addEventListener('click', scrollToPrevious);
      if (scrollRightMobile) scrollRightMobile.addEventListener('click', scrollToNext);

      // Event listeners untuk interaksi pengguna
      if (messageList) {
        messageList.addEventListener('mouseenter', stopAutoScroll);
        messageList.addEventListener('mouseleave', startAutoScroll);
        messageList.addEventListener('touchstart', stopAutoScroll);
        messageList.addEventListener('touchend', () => {
          setTimeout(startAutoScroll, 5000);
        });
      }

      // Inisialisasi carousel
      loadMessagesFromGoogleSheets();
    });
  </script>

  <style>
    .message-carousel-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .message-container {
      position: relative;
    }

    .carousel-nav {
      position: absolute;
      background: rgba(243, 212, 124, 0.7);
      color: #333;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
    }

    .carousel-nav:hover {
      background: #f3d47c;
      transform: scale(1.1);
    }

    .carousel-nav:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none;
    }

    .carousel-nav-mobile {
      background: rgba(243, 212, 124, 0.7);
      color: #333;
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .carousel-nav-mobile:hover {
      background: #f3d47c;
    }

    .carousel-nav-mobile:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .message-carousel {
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      min-height: 100px;
      display: flex;
      align-items: center;
    }

    .message-carousel::-webkit-scrollbar {
      display: none;
    }

    .message-item {
      width: 100%;
      padding: 1rem;
      text-align: center;
      white-space: normal;
      flex-shrink: 0;
      color: #fff;
      font-style: italic;
    }
  </style>
</body>

</html>


</html>



<!-- FontAwesome for Icons -->

<!-- Optional: Tailwind font plugin -->